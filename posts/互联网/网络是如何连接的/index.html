<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>网络是如何连接的 | huing的博客</title>
<meta name="keywords" content="互联网">
<meta name="description" content="网络是如何连接的 浏览器处理流程 当我们在浏览器中输入一个 URL(如www.example.com)后,浏览器会经过以下步骤:
解析 URL
识别协议(http/https) 识别域名(example.com) 识别资源路径(/) DNS 解析过程
首先检查浏览器 DNS 缓存 检查操作系统 DNS 缓存 检查路由器缓存 向 ISP 的 DNS 服务器发起递归查询 获取目标服务器的 IP 地址 建立连接
与目标服务器建立 TCP 连接(三次握手) 如果是 HTTPS,还需要进行 TLS 握手 发送 HTTP 请求
浏览器构建 HTTP 请求报文 通过网络发送到服务器 浏览器渲染过程
解析 HTML 构建 DOM 树(DOM Tree) 解析 CSS 构建 CSSOM(CSS Object Model) 合并 DOM 和 CSSOM 构建渲染树(Render Tree) 布局(Layout):计算每个节点的几何信息 绘制(Painting):将渲染树绘制到屏幕上 DNS (Domain Name System) 原理 DNS 是一个分布式数据库,主要功能是将域名转换为 IP 地址。解析过程如下:">
<meta name="author" content="huing">
<link rel="canonical" href="https://huing.github.io/posts/%E4%BA%92%E8%81%94%E7%BD%91/%E7%BD%91%E7%BB%9C%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E7%9A%84/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fbdbe883ca626e8b61876263e9d63faf275b95fd7f85b6d38fd7f4c863d14329.css" integrity="sha256-&#43;9vog8pibothh2Jj6dY/rydblf1/hbbTj9f0yGPRQyk=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://huing.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://huing.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://huing.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://huing.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://huing.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://huing.github.io/posts/%E4%BA%92%E8%81%94%E7%BD%91/%E7%BD%91%E7%BB%9C%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E7%9A%84/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://huing.github.io/posts/%E4%BA%92%E8%81%94%E7%BD%91/%E7%BD%91%E7%BB%9C%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E7%9A%84/">
  <meta property="og:site_name" content="huing的博客">
  <meta property="og:title" content="网络是如何连接的">
  <meta property="og:description" content="网络是如何连接的 浏览器处理流程 当我们在浏览器中输入一个 URL(如www.example.com)后,浏览器会经过以下步骤:
解析 URL
识别协议(http/https) 识别域名(example.com) 识别资源路径(/) DNS 解析过程
首先检查浏览器 DNS 缓存 检查操作系统 DNS 缓存 检查路由器缓存 向 ISP 的 DNS 服务器发起递归查询 获取目标服务器的 IP 地址 建立连接
与目标服务器建立 TCP 连接(三次握手) 如果是 HTTPS,还需要进行 TLS 握手 发送 HTTP 请求
浏览器构建 HTTP 请求报文 通过网络发送到服务器 浏览器渲染过程
解析 HTML 构建 DOM 树(DOM Tree) 解析 CSS 构建 CSSOM(CSS Object Model) 合并 DOM 和 CSSOM 构建渲染树(Render Tree) 布局(Layout):计算每个节点的几何信息 绘制(Painting):将渲染树绘制到屏幕上 DNS (Domain Name System) 原理 DNS 是一个分布式数据库,主要功能是将域名转换为 IP 地址。解析过程如下:">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-03T06:45:36+08:00">
    <meta property="article:modified_time" content="2024-09-03T06:45:36+08:00">
    <meta property="article:tag" content="互联网">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="网络是如何连接的">
<meta name="twitter:description" content="网络是如何连接的 浏览器处理流程 当我们在浏览器中输入一个 URL(如www.example.com)后,浏览器会经过以下步骤:
解析 URL
识别协议(http/https) 识别域名(example.com) 识别资源路径(/) DNS 解析过程
首先检查浏览器 DNS 缓存 检查操作系统 DNS 缓存 检查路由器缓存 向 ISP 的 DNS 服务器发起递归查询 获取目标服务器的 IP 地址 建立连接
与目标服务器建立 TCP 连接(三次握手) 如果是 HTTPS,还需要进行 TLS 握手 发送 HTTP 请求
浏览器构建 HTTP 请求报文 通过网络发送到服务器 浏览器渲染过程
解析 HTML 构建 DOM 树(DOM Tree) 解析 CSS 构建 CSSOM(CSS Object Model) 合并 DOM 和 CSSOM 构建渲染树(Render Tree) 布局(Layout):计算每个节点的几何信息 绘制(Painting):将渲染树绘制到屏幕上 DNS (Domain Name System) 原理 DNS 是一个分布式数据库,主要功能是将域名转换为 IP 地址。解析过程如下:">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://huing.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "网络是如何连接的",
      "item": "https://huing.github.io/posts/%E4%BA%92%E8%81%94%E7%BD%91/%E7%BD%91%E7%BB%9C%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E7%9A%84/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "网络是如何连接的",
  "name": "网络是如何连接的",
  "description": "网络是如何连接的 浏览器处理流程 当我们在浏览器中输入一个 URL(如www.example.com)后,浏览器会经过以下步骤:\n解析 URL\n识别协议(http/https) 识别域名(example.com) 识别资源路径(/) DNS 解析过程\n首先检查浏览器 DNS 缓存 检查操作系统 DNS 缓存 检查路由器缓存 向 ISP 的 DNS 服务器发起递归查询 获取目标服务器的 IP 地址 建立连接\n与目标服务器建立 TCP 连接(三次握手) 如果是 HTTPS,还需要进行 TLS 握手 发送 HTTP 请求\n浏览器构建 HTTP 请求报文 通过网络发送到服务器 浏览器渲染过程\n解析 HTML 构建 DOM 树(DOM Tree) 解析 CSS 构建 CSSOM(CSS Object Model) 合并 DOM 和 CSSOM 构建渲染树(Render Tree) 布局(Layout):计算每个节点的几何信息 绘制(Painting):将渲染树绘制到屏幕上 DNS (Domain Name System) 原理 DNS 是一个分布式数据库,主要功能是将域名转换为 IP 地址。解析过程如下:",
  "keywords": [
    "互联网"
  ],
  "articleBody": "网络是如何连接的 浏览器处理流程 当我们在浏览器中输入一个 URL(如www.example.com)后,浏览器会经过以下步骤:\n解析 URL\n识别协议(http/https) 识别域名(example.com) 识别资源路径(/) DNS 解析过程\n首先检查浏览器 DNS 缓存 检查操作系统 DNS 缓存 检查路由器缓存 向 ISP 的 DNS 服务器发起递归查询 获取目标服务器的 IP 地址 建立连接\n与目标服务器建立 TCP 连接(三次握手) 如果是 HTTPS,还需要进行 TLS 握手 发送 HTTP 请求\n浏览器构建 HTTP 请求报文 通过网络发送到服务器 浏览器渲染过程\n解析 HTML 构建 DOM 树(DOM Tree) 解析 CSS 构建 CSSOM(CSS Object Model) 合并 DOM 和 CSSOM 构建渲染树(Render Tree) 布局(Layout):计算每个节点的几何信息 绘制(Painting):将渲染树绘制到屏幕上 DNS (Domain Name System) 原理 DNS 是一个分布式数据库,主要功能是将域名转换为 IP 地址。解析过程如下:\n本地 DNS 缓存查询 递归 DNS 服务器查询 根域名服务器查询 顶级域名服务器查询 权威 DNS 服务器查询 DNS 记录类型 DNS 系统中最常用的两种记录类型是 A 记录和 CNAME 记录：\nA 记录 (Address Record)\n直接将域名指向一个 IPv4 地址\n例如：\nblog.example.com. A 185.31.17.133 CNAME 记录 (Canonical Name)\n将一个域名指向另一个域名\n可以指向另一个 CNAME 记录或 A 记录\n继承目标域名的完整解析链\n示例：\nblog.example.com. CNAME cdn.example.com. cdn.example.com. CNAME cdn.provider.net. cdn.provider.net. A 185.31.17.133 使用场景 A 记录：当你需要将域名直接指向 IP 地址时使用 CNAME 记录：当你需要将域名指向另一个域名时使用，常用于 CDN 服务或者需要动态改变目标服务器 IP 的场景 IP (Internet Protocol) 寻址 IP 是网络层协议，IP 地址是一串数字\nIP 协议负责:\n为网络中的设备分配唯一的地址 数据包的路由和转发 处理数据包的分片和重组 ISP (Internet Service Provider) 互联网服务提供商\n为个人和企业提供互联网接入服务的公司或组织 例如：中国电信、中国联通、中国移动等 主要提供宽带接入、域名解析、电子邮件等基础互联网服务 NSP (Network Service Provider) 网络服务提供商\n主要为 ISP 提供网络基础设施和骨干网络服务 运营和维护大规模的网络基础设施 负责处理跨区域、跨国的网络通信 TCP (Transmission Control Protocol) TCP 是一个可靠的传输层协议，通过三次握手建立连接，确保数据传输的可靠性。\nTCP 三次握手过程 第一步：SYN (同步序列编号)\n客户端发送 SYN 包到服务器 设置 SYN 标志位为 1 包含一个随机的序列号 ACK 标志位为 0 第二步：SYN-ACK (同步序列编号确认)\n服务器收到 SYN 后，发送 SYN-ACK 包 设置 SYN 和 ACK 标志位都为 1 确认客户端的序列号 服务器也生成自己的序列号 第三步：ACK (确认)\n客户端收到 SYN-ACK 后，发送 ACK 包 设置 ACK 标志位为 1 确认服务器的序列号 TCP 连接正式建立 TCP 连接的特点 可靠性：通过确认和重传机制确保数据可靠传输 全双工通信：建立连接后，双方可以同时收发数据 面向连接：传输数据前必须先建立连接 流量控制：通过窗口大小控制数据传输速率 常见的 TCP 应用协议 HTTP/HTTPS FTP（文件传输） SMTP（邮件发送） SSH（安全 shell） IMAP/POP3（邮件接收） TCP 连接释放 断开连接时也需要经过类似的握手过程：\n客户端发送 FIN 请求断开连接 服务器回复 FIN+ACK 客户端确认，发送 ACK 网络分层模型 网络通信采用分层的结构，最常见的是 OSI 七层模型，从底层到顶层分别是：\n1. 物理层 (Physical Layer) 负责比特流的传输 定义物理介质、接口和规范 处理原始的电信号、光信号等物理量 2. 数据链路层 (Data Link Layer) 负责节点之间的数据传输 差错检测和控制 常见协议： MAC (媒体访问控制) ARP (地址解析协议) PPP (点对点协议) 3. 网络层 (Network Layer) 负责数据包的路由和转发 主要协议： IP (网际协议) ICMP (互联网控制消息协议) IPsec (互联网安全协议) 处理网络地址、路由选择 4. 传输层 (Transport Layer) 提供端到端的通信服务 负责数据的分段、传输、流控和差错控制 主要协议： TCP (传输控制协议)：可靠、面向连接 UDP (用户数据报协议)：不可靠、无连接 SCTP (流控制传输协议) QUIC (快速 UDP 网络连接) 5. 会话层 (Session Layer) 建立、管理和终止会话 提供对话控制和同步功能 常见协议： NetBIOS RPC (远程过程调用) 6. 表示层 (Presentation Layer) 数据格式转换和加密 负责数据的编码、压缩和加密 常见协议： TLS/SSL ASCII JPEG、MPEG 等 7. 应用层 (Application Layer) 为应用程序提供网络服务 直接面向用户的接口 常见协议： HTTP/HTTPS (网页访问) FTP (文件传输) SMTP (邮件发送) DNS (域名解析) SSH (安全 shell) 数据封装过程 在数据传输过程中，数据在各层之间传递时会经过封装和解封装：\n应用层数据 加入传输层头部（TCP/UDP 头） 加入网络层头部（IP 头） 加入数据链路层头部和尾部 转换为物理层的比特流传输 每一层都为上一层提供服务，同时使用下一层提供的服务，形成了一个完整的网络通信体系。\nTODO 网络分层模型是什么时候参与到浏览器请求的过程中的\n",
  "wordCount" : "344",
  "inLanguage": "en",
  "datePublished": "2024-09-03T06:45:36+08:00",
  "dateModified": "2024-09-03T06:45:36+08:00",
  "author":{
    "@type": "Person",
    "name": "huing"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://huing.github.io/posts/%E4%BA%92%E8%81%94%E7%BD%91/%E7%BD%91%E7%BB%9C%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E7%9A%84/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "huing的博客",
    "logo": {
      "@type": "ImageObject",
      "url": "https://huing.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://huing.github.io/" accesskey="h" title="huing的博客 (Alt + H)">huing的博客</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://huing.github.io/" title="首页">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="https://huing.github.io/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://huing.github.io/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="https://huing.github.io/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://huing.github.io/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://huing.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://huing.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      网络是如何连接的
    </h1>
    <div class="post-meta"><span title='2024-09-03 06:45:36 +0800 CST'>2024-09-03</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;344 words&nbsp;·&nbsp;huing

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#网络是如何连接的">网络是如何连接的</a>
      <ul>
        <li><a href="#浏览器处理流程">浏览器处理流程</a></li>
        <li><a href="#dns-domain-name-system-原理">DNS (Domain Name System) 原理</a></li>
        <li><a href="#ip-internet-protocol-寻址">IP (Internet Protocol) 寻址</a></li>
        <li><a href="#isp-internet-service-provider">ISP (Internet Service Provider)</a></li>
        <li><a href="#nsp-network-service-provider">NSP (Network Service Provider)</a></li>
        <li><a href="#tcp-transmission-control-protocol">TCP (Transmission Control Protocol)</a></li>
        <li><a href="#网络分层模型">网络分层模型</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="网络是如何连接的">网络是如何连接的<a hidden class="anchor" aria-hidden="true" href="#网络是如何连接的">#</a></h2>
<h3 id="浏览器处理流程">浏览器处理流程<a hidden class="anchor" aria-hidden="true" href="#浏览器处理流程">#</a></h3>
<p>当我们在浏览器中输入一个 URL(如www.example.com)后,浏览器会经过以下步骤:</p>
<ol>
<li>
<p><strong>解析 URL</strong></p>
<ul>
<li>识别协议(http/https)</li>
<li>识别域名(example.com)</li>
<li>识别资源路径(/)</li>
</ul>
</li>
<li>
<p><strong>DNS 解析过程</strong></p>
<ul>
<li>首先检查浏览器 DNS 缓存</li>
<li>检查操作系统 DNS 缓存</li>
<li>检查路由器缓存</li>
<li>向 ISP 的 DNS 服务器发起递归查询</li>
<li>获取目标服务器的 IP 地址</li>
</ul>
</li>
<li>
<p><strong>建立连接</strong></p>
<ul>
<li>与目标服务器建立 TCP 连接(三次握手)</li>
<li>如果是 HTTPS,还需要进行 TLS 握手</li>
</ul>
</li>
<li>
<p><strong>发送 HTTP 请求</strong></p>
<ul>
<li>浏览器构建 HTTP 请求报文</li>
<li>通过网络发送到服务器</li>
</ul>
</li>
<li>
<p><strong>浏览器渲染过程</strong></p>
<ul>
<li>解析 HTML 构建 DOM 树(DOM Tree)</li>
<li>解析 CSS 构建 CSSOM(CSS Object Model)</li>
<li>合并 DOM 和 CSSOM 构建渲染树(Render Tree)</li>
<li>布局(Layout):计算每个节点的几何信息</li>
<li>绘制(Painting):将渲染树绘制到屏幕上</li>
</ul>
</li>
</ol>
<h3 id="dns-domain-name-system-原理">DNS (Domain Name System) 原理<a hidden class="anchor" aria-hidden="true" href="#dns-domain-name-system-原理">#</a></h3>
<p>DNS 是一个分布式数据库,主要功能是将域名转换为 IP 地址。解析过程如下:</p>
<ol>
<li>本地 DNS 缓存查询</li>
<li>递归 DNS 服务器查询</li>
<li>根域名服务器查询</li>
<li>顶级域名服务器查询</li>
<li>权威 DNS 服务器查询</li>
</ol>
<h4 id="dns-记录类型">DNS 记录类型<a hidden class="anchor" aria-hidden="true" href="#dns-记录类型">#</a></h4>
<p>DNS 系统中最常用的两种记录类型是 A 记录和 CNAME 记录：</p>
<ol>
<li>
<p><strong>A 记录 (Address Record)</strong></p>
<ul>
<li>
<p>直接将域名指向一个 IPv4 地址</p>
</li>
<li>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">blog</span>.<span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">com</span>.     <span style="color:#a6e22e">A</span>        <span style="color:#ae81ff">185.31</span>.<span style="color:#ae81ff">17.133</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p><strong>CNAME 记录 (Canonical Name)</strong></p>
<ul>
<li>
<p>将一个域名指向另一个域名</p>
</li>
<li>
<p>可以指向另一个 CNAME 记录或 A 记录</p>
</li>
<li>
<p>继承目标域名的完整解析链</p>
</li>
<li>
<p>示例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">blog</span>.<span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">com</span>.      <span style="color:#a6e22e">CNAME</span>   <span style="color:#a6e22e">cdn</span>.<span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">com</span>.
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cdn</span>.<span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">com</span>.       <span style="color:#a6e22e">CNAME</span>   <span style="color:#a6e22e">cdn</span>.<span style="color:#a6e22e">provider</span>.<span style="color:#a6e22e">net</span>.
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">cdn</span>.<span style="color:#a6e22e">provider</span>.<span style="color:#a6e22e">net</span>.      <span style="color:#a6e22e">A</span>       <span style="color:#ae81ff">185.31</span>.<span style="color:#ae81ff">17.133</span>
</span></span></code></pre></div></li>
</ul>
</li>
</ol>
<h4 id="使用场景">使用场景<a hidden class="anchor" aria-hidden="true" href="#使用场景">#</a></h4>
<ul>
<li>A 记录：当你需要将域名直接指向 IP 地址时使用</li>
<li>CNAME 记录：当你需要将域名指向另一个域名时使用，常用于 CDN 服务或者需要动态改变目标服务器 IP 的场景</li>
</ul>
<h3 id="ip-internet-protocol-寻址">IP (Internet Protocol) 寻址<a hidden class="anchor" aria-hidden="true" href="#ip-internet-protocol-寻址">#</a></h3>
<p><strong>IP 是网络层协议，IP 地址是一串数字</strong></p>
<p>IP 协议负责:</p>
<ul>
<li>为网络中的设备分配唯一的地址</li>
<li>数据包的路由和转发</li>
<li>处理数据包的分片和重组</li>
</ul>
<h3 id="isp-internet-service-provider">ISP (Internet Service Provider)<a hidden class="anchor" aria-hidden="true" href="#isp-internet-service-provider">#</a></h3>
<p>互联网服务提供商</p>
<ul>
<li>为个人和企业提供互联网接入服务的公司或组织</li>
<li>例如：中国电信、中国联通、中国移动等</li>
<li>主要提供宽带接入、域名解析、电子邮件等基础互联网服务</li>
</ul>
<h3 id="nsp-network-service-provider">NSP (Network Service Provider)<a hidden class="anchor" aria-hidden="true" href="#nsp-network-service-provider">#</a></h3>
<p>网络服务提供商</p>
<ul>
<li>主要为 ISP 提供网络基础设施和骨干网络服务</li>
<li>运营和维护大规模的网络基础设施</li>
<li>负责处理跨区域、跨国的网络通信</li>
</ul>
<h3 id="tcp-transmission-control-protocol">TCP (Transmission Control Protocol)<a hidden class="anchor" aria-hidden="true" href="#tcp-transmission-control-protocol">#</a></h3>
<p>TCP 是一个可靠的传输层协议，通过三次握手建立连接，确保数据传输的可靠性。</p>
<h4 id="tcp-三次握手过程">TCP 三次握手过程<a hidden class="anchor" aria-hidden="true" href="#tcp-三次握手过程">#</a></h4>
<ol>
<li>
<p><strong>第一步：SYN (同步序列编号)</strong></p>
<ul>
<li>客户端发送 SYN 包到服务器</li>
<li>设置 SYN 标志位为 1</li>
<li>包含一个随机的序列号</li>
<li>ACK 标志位为 0</li>
</ul>
</li>
<li>
<p><strong>第二步：SYN-ACK (同步序列编号确认)</strong></p>
<ul>
<li>服务器收到 SYN 后，发送 SYN-ACK 包</li>
<li>设置 SYN 和 ACK 标志位都为 1</li>
<li>确认客户端的序列号</li>
<li>服务器也生成自己的序列号</li>
</ul>
</li>
<li>
<p><strong>第三步：ACK (确认)</strong></p>
<ul>
<li>客户端收到 SYN-ACK 后，发送 ACK 包</li>
<li>设置 ACK 标志位为 1</li>
<li>确认服务器的序列号</li>
<li>TCP 连接正式建立</li>
</ul>
</li>
</ol>
<h4 id="tcp-连接的特点">TCP 连接的特点<a hidden class="anchor" aria-hidden="true" href="#tcp-连接的特点">#</a></h4>
<ul>
<li><strong>可靠性</strong>：通过确认和重传机制确保数据可靠传输</li>
<li><strong>全双工通信</strong>：建立连接后，双方可以同时收发数据</li>
<li><strong>面向连接</strong>：传输数据前必须先建立连接</li>
<li><strong>流量控制</strong>：通过窗口大小控制数据传输速率</li>
</ul>
<h4 id="常见的-tcp-应用协议">常见的 TCP 应用协议<a hidden class="anchor" aria-hidden="true" href="#常见的-tcp-应用协议">#</a></h4>
<ul>
<li>HTTP/HTTPS</li>
<li>FTP（文件传输）</li>
<li>SMTP（邮件发送）</li>
<li>SSH（安全 shell）</li>
<li>IMAP/POP3（邮件接收）</li>
</ul>
<h4 id="tcp-连接释放">TCP 连接释放<a hidden class="anchor" aria-hidden="true" href="#tcp-连接释放">#</a></h4>
<p>断开连接时也需要经过类似的握手过程：</p>
<ol>
<li>客户端发送 FIN 请求断开连接</li>
<li>服务器回复 FIN+ACK</li>
<li>客户端确认，发送 ACK</li>
</ol>
<h3 id="网络分层模型">网络分层模型<a hidden class="anchor" aria-hidden="true" href="#网络分层模型">#</a></h3>
<p>网络通信采用分层的结构，最常见的是 OSI 七层模型，从底层到顶层分别是：</p>
<h4 id="1-物理层-physical-layer">1. 物理层 (Physical Layer)<a hidden class="anchor" aria-hidden="true" href="#1-物理层-physical-layer">#</a></h4>
<ul>
<li>负责比特流的传输</li>
<li>定义物理介质、接口和规范</li>
<li>处理原始的电信号、光信号等物理量</li>
</ul>
<h4 id="2-数据链路层-data-link-layer">2. 数据链路层 (Data Link Layer)<a hidden class="anchor" aria-hidden="true" href="#2-数据链路层-data-link-layer">#</a></h4>
<ul>
<li>负责节点之间的数据传输</li>
<li>差错检测和控制</li>
<li>常见协议：
<ul>
<li>MAC (媒体访问控制)</li>
<li>ARP (地址解析协议)</li>
<li>PPP (点对点协议)</li>
</ul>
</li>
</ul>
<h4 id="3-网络层-network-layer">3. 网络层 (Network Layer)<a hidden class="anchor" aria-hidden="true" href="#3-网络层-network-layer">#</a></h4>
<ul>
<li>负责数据包的路由和转发</li>
<li>主要协议：
<ul>
<li>IP (网际协议)</li>
<li>ICMP (互联网控制消息协议)</li>
<li>IPsec (互联网安全协议)</li>
</ul>
</li>
<li>处理网络地址、路由选择</li>
</ul>
<h4 id="4-传输层-transport-layer">4. 传输层 (Transport Layer)<a hidden class="anchor" aria-hidden="true" href="#4-传输层-transport-layer">#</a></h4>
<ul>
<li>提供端到端的通信服务</li>
<li>负责数据的分段、传输、流控和差错控制</li>
<li>主要协议：
<ul>
<li>TCP (传输控制协议)：可靠、面向连接</li>
<li>UDP (用户数据报协议)：不可靠、无连接</li>
<li>SCTP (流控制传输协议)</li>
<li>QUIC (快速 UDP 网络连接)</li>
</ul>
</li>
</ul>
<h4 id="5-会话层-session-layer">5. 会话层 (Session Layer)<a hidden class="anchor" aria-hidden="true" href="#5-会话层-session-layer">#</a></h4>
<ul>
<li>建立、管理和终止会话</li>
<li>提供对话控制和同步功能</li>
<li>常见协议：
<ul>
<li>NetBIOS</li>
<li>RPC (远程过程调用)</li>
</ul>
</li>
</ul>
<h4 id="6-表示层-presentation-layer">6. 表示层 (Presentation Layer)<a hidden class="anchor" aria-hidden="true" href="#6-表示层-presentation-layer">#</a></h4>
<ul>
<li>数据格式转换和加密</li>
<li>负责数据的编码、压缩和加密</li>
<li>常见协议：
<ul>
<li>TLS/SSL</li>
<li>ASCII</li>
<li>JPEG、MPEG 等</li>
</ul>
</li>
</ul>
<h4 id="7-应用层-application-layer">7. 应用层 (Application Layer)<a hidden class="anchor" aria-hidden="true" href="#7-应用层-application-layer">#</a></h4>
<ul>
<li>为应用程序提供网络服务</li>
<li>直接面向用户的接口</li>
<li>常见协议：
<ul>
<li>HTTP/HTTPS (网页访问)</li>
<li>FTP (文件传输)</li>
<li>SMTP (邮件发送)</li>
<li>DNS (域名解析)</li>
<li>SSH (安全 shell)</li>
</ul>
</li>
</ul>
<h4 id="数据封装过程">数据封装过程<a hidden class="anchor" aria-hidden="true" href="#数据封装过程">#</a></h4>
<p>在数据传输过程中，数据在各层之间传递时会经过封装和解封装：</p>
<ol>
<li>应用层数据</li>
<li>加入传输层头部（TCP/UDP 头）</li>
<li>加入网络层头部（IP 头）</li>
<li>加入数据链路层头部和尾部</li>
<li>转换为物理层的比特流传输</li>
</ol>
<p>每一层都为上一层提供服务，同时使用下一层提供的服务，形成了一个完整的网络通信体系。</p>
<p>TODO 网络分层模型是什么时候参与到浏览器请求的过程中的</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://huing.github.io/tags/%E4%BA%92%E8%81%94%E7%BD%91/">互联网</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://huing.github.io/posts/%E4%BA%92%E8%81%94%E7%BD%91/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/">
    <span class="title">« Prev</span>
    <br>
    <span>浏览器的工作原理</span>
  </a>
  <a class="next" href="https://huing.github.io/posts/%E4%BA%92%E8%81%94%E7%BD%91/cdn%E5%8E%9F%E7%90%86/">
    <span class="title">Next »</span>
    <br>
    <span>CDN原理</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 网络是如何连接的 on x"
            href="https://x.com/intent/tweet/?text=%e7%bd%91%e7%bb%9c%e6%98%af%e5%a6%82%e4%bd%95%e8%bf%9e%e6%8e%a5%e7%9a%84&amp;url=https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f&amp;hashtags=%e4%ba%92%e8%81%94%e7%bd%91">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 网络是如何连接的 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f&amp;title=%e7%bd%91%e7%bb%9c%e6%98%af%e5%a6%82%e4%bd%95%e8%bf%9e%e6%8e%a5%e7%9a%84&amp;summary=%e7%bd%91%e7%bb%9c%e6%98%af%e5%a6%82%e4%bd%95%e8%bf%9e%e6%8e%a5%e7%9a%84&amp;source=https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 网络是如何连接的 on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f&title=%e7%bd%91%e7%bb%9c%e6%98%af%e5%a6%82%e4%bd%95%e8%bf%9e%e6%8e%a5%e7%9a%84">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 网络是如何连接的 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 网络是如何连接的 on whatsapp"
            href="https://api.whatsapp.com/send?text=%e7%bd%91%e7%bb%9c%e6%98%af%e5%a6%82%e4%bd%95%e8%bf%9e%e6%8e%a5%e7%9a%84%20-%20https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 网络是如何连接的 on telegram"
            href="https://telegram.me/share/url?text=%e7%bd%91%e7%bb%9c%e6%98%af%e5%a6%82%e4%bd%95%e8%bf%9e%e6%8e%a5%e7%9a%84&amp;url=https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 网络是如何连接的 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e7%bd%91%e7%bb%9c%e6%98%af%e5%a6%82%e4%bd%95%e8%bf%9e%e6%8e%a5%e7%9a%84&u=https%3a%2f%2fhuing.github.io%2fposts%2f%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2f%25E7%25BD%2591%25E7%25BB%259C%25E6%2598%25AF%25E5%25A6%2582%25E4%25BD%2595%25E8%25BF%259E%25E6%258E%25A5%25E7%259A%2584%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://huing.github.io/">huing的博客</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
